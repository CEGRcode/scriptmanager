/*
 * This file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Java Library project to get you started.
 * For more details take a look at the Java Libraries chapter in the Gradle
 * User Manual available at https://docs.gradle.org/7.5/userguide/java_library_plugin.html
 */

// 
plugins {
    // Apply the java-library plugin to add support for Java Library
    id 'java-library'
    id 'java'
    id 'eclipse'
    id 'application'
//    id 'pmd'
//    id 'checkstyle'
    id 'com.github.johnrengelman.shadow' version '7.1.2'
}

mainClassName = "scriptmanager.main.ScriptManager"
version = 'v0.14-dev'

sourceCompatibility = 1.8
targetCompatibility = 1.8

// Get dependencies from Maven central repository
repositories {
    // Use jcenter for resolving dependencies.
    //jcenter()
    // You can declare any Maven/Ivy/file repository here.
    mavenCentral()
}

// Declare the dependencies for your production and test code
dependencies {
    implementation group: 'org.slf4j', name: 'slf4j-api', version: '1.7.13'
    // https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api
    implementation group: 'javax.xml.bind', name: 'jaxb-api', version: '2.1'
    // https://mvnrepository.com/artifact/info.picocli/picocli     #CommandLineInterface Parsing Args
    implementation group: 'info.picocli', name: 'picocli', version: '4.2.0'
    implementation group: 'org.jfree', name: 'jfreechart', version: '1.5.3'
    implementation group: 'org.jfree', name: 'jfreesvg', version: '3.4.2'
    implementation fileTree(dir: 'lib', include: ['*.jar'])
}

// Declare dependencies explicitly (for Gradle 7.X with Shadow)
tasks.shadowJar.dependsOn ':distTar'
tasks.shadowJar.dependsOn ':distZip'

// Build fat jar executable with all dependencies bundled together
shadowJar {
    // Configure JAR file name
    archiveBaseName.set('ScriptManager')
    archiveClassifier.set('')
    archiveVersion.set(version)

    // Reduce fat jar to only include dependencies used
    minimize()
}
