<h1> About scriptmanager-galaxy_tools </h1>
XML wrappers for Scriptmanager software package. The goal is to wrap all (30+) custom tools in scriptmanager so they can be published to the Galaxy ToolShed.


The compiled jar file ScriptManager-v0.13-dev.jar should be included in the file directory. 


1. `Bam_statistics` tool generates Insert-size Histogram statistics


2. `bed2gff` tool converts a file extension from bed to gff and vice versa.


3. `gff2bed` tool converts a file extension from gff to bed.


4. `script_manager_heatmap` tool plots heatmap using scriptmanager


5. `scriptmanager_heatmap_add_label` tool adds label to the heatmap generated by scriptmanager. This tool has its own jar file.


6. `script_manager_tag_pileup` tool plots tagpileup by using scriptmanager


7. `script_manager_4color` tool plots 4colorplot by using scriptmanager


Non-scriptmanager tools (tools for tutorial purposes):

1. `Arabic2roman`, tool coded in python. This tool switches out the chromosome numbers from arabic numerals to roman numerals


2. `Sumterms`, tool coded in python. This tool sums the two colums of a txt file, creates a third column and places the sum there


<h2> Adding scriptmanager tools to Galaxy </h2>

1. clone the repository in the local_tools folder
```
cd /mnt/mountpoint/srv/galaxy/local_tools
sudo git clone https://github.com/CEGRcode/scriptmanager-galaxy_tools.git
```

2. Tell galaxy where to look for scriptmanager tools by adding the following section to `/mnt/mountpoint/srv/galaxy/config/local_tool_conf.xml` file.

```
    <section id="scriptmanager-owlang" name="ScriptManager" > 
        <tool file="scriptmanager-owlang/scriptmanager_bam-correlation.xml" />
        <tool file="scriptmanager-owlang/scriptmanager_bam-to-bed.xml" />
        <tool file="scriptmanager-owlang/scriptmanager_bam-to-bedgraph.xml" />
        <tool file="scriptmanager-owlang/scriptmanager_bam-to-gff.xml" />
        <tool file="scriptmanager-owlang/scriptmanager_bam-to-scidx.xml" />
        <tool file="scriptmanager-owlang/scriptmanager_bed-to-gff.xml" />
        <tool file="scriptmanager-owlang/scriptmanager_expand-bed.xml" />
        <tool file="scriptmanager-owlang/scriptmanager_expand-gff.xml" />
        <tool file="scriptmanager-owlang/scriptmanager_four-color.xml" />
        <tool file="scriptmanager-owlang/scriptmanager_gff-to-bed.xml" />
        <tool file="scriptmanager-owlang/scriptmanager_heatmap.xml" />
        <tool file="scriptmanager-owlang/scriptmanager_label-heatmap.xml" />
        <tool file="scriptmanager-owlang/scriptmanager_merge-heatmap.xml" />
        <tool file="scriptmanager-owlang/scriptmanager_pe-stat.xml" />
        <tool file="scriptmanager-owlang/scriptmanager_se-stat.xml" />
        <tool file="scriptmanager-owlang/scriptmanager_shift-coord.xml" />
        <tool file="scriptmanager-owlang/scriptmanager_sort-bed.xml" />
        <tool file="scriptmanager-owlang/scriptmanager_sort-gff.xml" />
        <tool file="scriptmanager-owlang/scriptmanager_tag-pileup.xml" />
    </section>
```

3. Restart Galaxy

    ```
    sudo systemctl restart galaxy
    ```
 
4. Solve dependencies for local Galaxy tools that have been just added through Galaxy web interface. `Admin -> Manage Dependencies`



Thank you to Ali Nematbakhsh(https://github.com/AliNemat) and Audrey Sackey(https://github.com/Adjekai) for their initial work in writing these wrappers.

